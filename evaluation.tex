\section{Performance Evaluation} \label{sec:eval}

This section reports experiments that assess the strengths and weaknesses of
the $\mathcal{CE}$ machine. We evaluate using benchmarks from the \texttt{nofib}
benchmark suite. Because we have implemented only machine integers, and must
translate the examples by hand, we use a subset of the \texttt{nofib} suite that
excludes floating point values and arrays. A list of the benchmarks used and a
brief description is given in Figure~\ref{fig:bench}.

\begin{figure}
\begin{itemize}
\item \textbf{exp3:} A Peano arithmetic benchmark. Computes $3^8$ and prints the result. 
\item \textbf{queens:} Computes the number of solutions to the nqueens problem
for an n by n board.
\item \textbf{primes:} A simple primes sieve that computes the nth prime.
\item \textbf{digits-of-e1:} A calculation of the first $n$ digits of $e$ using
continued fractions. 
\item \textbf{digits-of-e2:} Another calculation of the first $n$ digits of $e$ using an
infinite series.  
\item \textbf{fib:} Naively computes the nth Fibonacci number.
\item \textbf{fannkuch:} Counts the number of reverses of a subset of a list.
\item \textbf{tak:} A synthetic benchmark involving basic recursion.
\end{itemize}
\caption{Description of Benchmarks}
\label{fig:bench}
\end{figure}

We compare the $\mathcal{CE}$ machine with two existing implementations:

\begin{itemize}
\item GHC: The Glasgow Haskell compiler. A high performance, optimizing compiler
based on the STG machine \cite{jonesstg}.
\item UHC: The Utrecht Haskell compiler. An optimizing compiler based on the
GRIN machine \cite{boquist1997grin,dijkstra2009architecture}.
\end{itemize}

We use GHC version 7.10.3 and UHC version 1.1.9.3. We compile with -O0 and -O3,
and show the results for both. Where possible, we pre-allocate a heap of 1GB 
to avoid measuring the performance of GC implementations. The tests were run on
an Intel(R) Xeon(R) CPU E5-4650L @ 2.60GHz, running Linux version 3.16. 
